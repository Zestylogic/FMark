language: csharp
mono: none
dotnet: 2.1.4
script:
  - export PREFIX=`pwd`
  - export PATH=$PREFIX/bin:$PATH
  - git clone https://github.com/mono/mono.git
  - cd mono
  - ./autogen.sh --prefix=$PREFIX
  - make
  - make install
  - cd $TRAVIS_BUILD_DIR/FMark/src/FMarkCLI
  - dotnet build -v n
  - dotnet run --no-build -- -t
  - cd $TRAVIS_BUILD_DIR/FMark/src/FMarkFable
  - dotnet restore
  - dotnet fable yarn-build
install:
  - sudo apt-get -qq update
  - sudo apt-get install -y git autoconf libtool automake build-essential mono-devel gettext cmake
